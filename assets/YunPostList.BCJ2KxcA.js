import{a as B}from"./chunks/@vueuse/motion.CfOaydB9.js";import{i as D,l as I,_ as M,g as A,m as F,G as H}from"./app.CMbTIBAe.js";import"./chunks/dayjs.BdcnXKr1.js";import{u as E}from"./chunks/vue-router.BJ7HglPx.js";import{A as p,I as S,ac as a,aa as h,ae as l,F as o,ap as k,L as P,al as L,a9 as T,af as u,ai as G,ah as z,aj as $,ab as e,a8 as Y,C as O,y as W,as as q,av as J,H as j,W as w,ak as K}from"./framework.Dtj2FOgl.js";import{b as Q,_ as U,a as X}from"./YunPostMeta.vue_vue_type_style_index_0_lang.Cp3oNFU1.js";import{u as Z}from"./post.BRrLyj5m.js";import{u as tt}from"./chunks/vue-i18n.-J8ISBuY.js";function et(t){const r=E(),s=p(()=>Number.parseInt(r.params.page||"1")),n=p(()=>Math.ceil(t.total/t.pageSize)),d=p(()=>s.value===1||s.value===n.value?3:2);function f(c){return c===1||c===n.value?!0:c>s.value-d.value&&c<s.value+d.value}function m(c){return c===1?"/":`/page/${c}`}const v=p(()=>m(s.value-1)),_=p(()=>m(s.value+1)),y=p(()=>s.value>1),b=p(()=>s.value<n.value);return{curPage:s,totalPages:n,showPage:f,surLen:d,getTo:m,prevTo:v,nextTo:_,showPrev:y,showNext:b}}const st={class:"pagination"},ot=S({__name:"YunPagination",props:{total:{},pageSize:{}},setup(t,{expose:r}){const s=t,{curPage:n,totalPages:d,showPage:f,getTo:m,surLen:v,prevTo:_,nextTo:y,showPrev:b,showNext:c}=et({total:s.total,pageSize:s.pageSize});return r({curPage:n}),(C,g)=>{const x=T("RouterLink");return e(),a("nav",st,[o(b)?(e(),h(x,{key:0,class:"page-number",to:o(_),"aria-label":"prev"},{default:k(()=>[...g[0]||(g[0]=[u("div",{"i-ri-arrow-left-s-line":""},null,-1)])]),_:1},8,["to"])):l("v-if",!0),(e(!0),a(P,null,L(o(d),i=>(e(),a(P,null,[o(f)(i)?(e(),h(x,{key:i,class:$(["page-number",o(n)===i&&"active"]),to:o(m)(i)},{default:k(()=>[G(z(i),1)]),_:2},1032,["class","to"])):i===o(n)-o(v)?(e(),a("span",{key:`prev-space-${i}`,class:"space",disabled:""}," ... ")):i===o(n)+o(v)?(e(),a("span",{key:`next-space-${i}`,class:"space",disabled:""}," ... ")):l("v-if",!0)],64))),256)),o(c)?(e(),h(x,{key:1,class:"page-number",to:o(y),"aria-label":"next"},{default:k(()=>[...g[1]||(g[1]=[u("div",{"i-ri-arrow-right-s-line":""},null,-1)])]),_:1},8,["to"])):l("v-if",!0)])}}}),at={},nt={w:"full",h:"30%",class:"absolute bottom-0 bg-gradient-to-t from-$va-c-bg-light to-transparent z-1"};function lt(t,r){return e(),a("div",nt)}const rt=Y(at,[["render",lt]]),ct=S({__name:"ValaxyDynamicComponent",props:{templateStr:{},data:{default:()=>({})}},setup(t){const r=t,s=O(null);async function n(){const f={render:B(r.templateStr),data:()=>r.data};s.value=J(()=>Promise.resolve(f))}return W(()=>[r.templateStr,r.data],()=>{n()},{immediate:!0}),(d,f)=>(e(),h(q(s.value)))}}),it={class:"flex flex-1 of-hidden justify-start items-start post-card-info",w:"full"},ut=["src","alt"],pt={class:"flex-center title text-2xl",text:"center",font:"serif black"},dt={flex:"~ grow col",w:"full",justify:"center",items:"center"},mt={key:0,py:"1"},ft={key:0,class:"markdown-body",op:"90",text:"left",w:"full",p:"x-8 y-2"},vt=["innerHTML"],_t={key:2,m:"b-5"},gt=["href"],ht={w:"full",class:"yun-card-actions flex justify-between p-4","min-h":"10",text:"sm"},yt={class:"post-categories inline-flex",flex:"wrap 1",items:"center"},xt=S({__name:"YunPostCard",props:{post:{}},setup(t){const r=t,{t:s}=tt(),{$tO:n}=D(),{icon:d,styles:f,color:m}=Z(r.post.type),v=j("bg-gradient-to-r gradient-text from-$va-c-primary to-$va-c-primary-lighter"),_=p(()=>m?"":r.post.postTitleClass||v.value);return(y,b)=>{const c=M,C=Q,g=ct,x=rt,i=U,R=X,N=I,V=T("RouterLink");return e(),h(V,{class:"post-card-link flex-center w-full",to:t.post.path||""},{default:k(()=>[w(N,{class:$(["w-full hover:scale-102 hover:z-1",t.post.cover?"post-card-image":"post-card"]),overflow:"hidden",style:K(o(f))},{default:k(()=>[u("div",it,[t.post.cover?(e(),a("img",{key:0,src:t.post.cover,alt:o(s)("post.cover"),width:"320",height:"180",w:"40%",h:"54",class:"cover object-cover object-center md:shadow",loading:"lazy"},null,8,ut)):l("v-if",!0),u("div",{class:$(["flex flex-col items-center relative",t.post.cover&&"h-54"]),w:"full"},[w(c,{class:$(["post-title-link cursor-pointer",_.value]),to:t.post.path||"",m:"t-3"},{default:k(()=>[u("div",pt,[t.post.type?(e(),a("div",{key:0,class:$(["inline-flex",o(d)]),m:"r-1"},null,2)):l("v-if",!0),u("span",null,z(o(n)(t.post.title)),1)])]),_:1},8,["to","class"]),w(C,{frontmatter:t.post},null,8,["frontmatter"]),u("div",dt,[t.post.excerpt_type==="text"?(e(),a("div",mt)):l("v-if",!0),t.post.excerpt?(e(),a(P,{key:1},[t.post.excerpt_type==="html"?(e(),a("div",ft,[w(g,{"template-str":t.post.excerpt},null,8,["template-str"])])):(e(),a("div",{key:1,class:"markdown-body",op:"90",text:"left",w:"full",p:"x-8 y-2",innerHTML:t.post.excerpt},null,8,vt))],64)):(e(),a("div",_t))]),l(' <div m="b-5" /> '),t.post.excerpt?(e(),h(x,{key:0})):l("v-if",!0),t.post.url?(e(),a("a",{key:1,href:t.post.url,class:"post-link-btn shadow hover:shadow-md z-2",rounded:"",target:"_blank",m:"b-4"},z(o(s)("post.view_link")),9,gt)):l("v-if",!0)],2)]),l(" always show "),u("div",ht,[u("div",yt,[w(i,{m:"l-1",categories:t.post.categories},null,8,["categories"])]),t.post.tags?(e(),h(R,{key:0,m:"1",tags:t.post.tags},null,8,["tags"])):l("v-if",!0)])]),_:1},8,["class","style"])]),_:1},8,["to"])}}}),wt={class:"yun-post-list grid grid-cols-1 lg:grid-cols-[1fr_20rem] gap-0",w:"full",p:"x-4 lt-sm:0"},kt={class:"flex justify-center"},bt={class:"w-full"},$t={key:0,py2:"",op50:"","text-center":""},Pt={class:"lt-lg:hidden justify-center yun-side-card"},Ct=S({__name:"YunPostList",props:{type:{},posts:{}},setup(t){const r=t,s=j(),n=p(()=>s.value?.curPage||1),d=A(),f=F(),m=p(()=>f.value.pageSize),v=p(()=>(r.posts||d.postList).filter(y=>!y.hide)),_=p(()=>v.value.slice((n.value-1)*m.value,n.value*m.value));return(y,b)=>{const c=xt,C=H,g=ot;return e(),a(P,null,[u("div",wt,[l(" 主要内容区域 "),u("div",kt,[l(" 居中 "),u("div",bt,[_.value.length?l("v-if",!0):(e(),a("div",$t," 博主还什么都没写哦～ ")),(e(!0),a(P,null,L(_.value,(x,i)=>(e(),h(c,{key:i,post:x},null,8,["post"]))),128))])]),l(" 侧边栏区域 "),u("div",Pt,[w(C)])]),w(g,{ref_key:"paginationRef",ref:s,class:"mt-5",total:v.value.length,"page-size":m.value},null,8,["total","page-size"])],64)}}}),Vt=Y(Ct,[["__scopeId","data-v-abc75d2f"]]);export{Vt as _};
