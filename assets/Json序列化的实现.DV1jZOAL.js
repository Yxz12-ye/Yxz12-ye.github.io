import{_ as y}from"./ValaxyMain.vue_vue_type_style_index_0_lang.BVmUPrIi.js";import"./chunks/@vueuse/motion.CfOaydB9.js";import{e as F,u,a as m}from"./chunks/vue-router.CM5PG3tg.js";import{aa as C,ap as l,ag as n,af as s,ae as o,ai as i,W as B,a9 as b,F as c,ab as f,Z as A}from"./framework.Dtj2FOgl.js";import"./app.D7nie2tN.js";import"./chunks/dayjs.BdcnXKr1.js";import"./chunks/vue-i18n.-J8ISBuY.js";import"./chunks/pinia.ecF83nE_.js";/* empty css                    */import"./chunks/nprogress.B6x19dEb.js";import"./YunComment.vue_vue_type_style_index_0_lang.Bid5-W6J.js";import"./index.C5okkQwF.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang.BnNbMMRz.js";import"./post.CQaILt3k.js";const D={class:"warning custom-block"},J={class:"custom-block-title custom-block-title-default"},v=F("/posts/2025/Json序列化的实现",async k=>JSON.parse('{"title":"用C++20实现Json反序列化","description":"","frontmatter":{"title":"用C++20实现Json反序列化","date":"2025-12-24 22:55:23","updated":"2025-12-24 22:55:23","categories":["技术"],"tags":["C++","Json"]},"headers":[],"relativePath":"pages/posts/2025/Json序列化的实现.md","lastUpdated":1766588262000}'),{lazy:(k,h)=>k.name===h.name}),x={__name:"Json序列化的实现",setup(k,{expose:h}){const{data:r}=v(),d=m(),p=u(),e=Object.assign(p.meta.frontmatter||{},r.value?.frontmatter||{});return d.currentRoute.value.data=r.value,A("valaxy:frontmatter",e),globalThis.$frontmatter=e,h({frontmatter:{title:"用C++20实现Json反序列化",date:"2025-12-24 22:55:23",updated:"2025-12-24 22:55:23",categories:["技术"],tags:["C++","Json"]}}),(t,a)=>{const E=b("VT"),g=y;return f(),C(g,{frontmatter:c(e)},{"main-content-md":l(()=>[a[1]||(a[1]=s("h1",{id:"用c-20实现json反序列化",tabindex:"-1"},[i("用C++20实现Json反序列化 "),s("a",{class:"header-anchor",href:"#用c-20实现json反序列化","aria-label":'Permalink to "用C++20实现Json反序列化"'},"​")],-1)),a[2]||(a[2]=s("h2",{id:"概述",tabindex:"-1"},[i("概述 "),s("a",{class:"header-anchor",href:"#概述","aria-label":'Permalink to "概述"'},"​")],-1)),a[3]||(a[3]=s("p",null,"其实是2025WoC, 感觉反序列化思路还挺有趣的, 所以就写个文章记录一下",-1)),a[4]||(a[4]=s("p",null,[s("s",null,"(顺便弥补博客多天没更新…)")],-1)),a[5]||(a[5]=s("p",null,[i("核心思路是"),s("strong",null,"递归下降"),i(", 一开始不理解, 到后面的顿悟, 是个很有趣的过程")],-1)),o(" more "),a[6]||(a[6]=s("h2",{id:"正文",tabindex:"-1"},[i("正文 "),s("a",{class:"header-anchor",href:"#正文","aria-label":'Permalink to "正文"'},"​")],-1)),a[7]||(a[7]=s("h3",{id:"深入理解json",tabindex:"-1"},[i("深入理解Json "),s("a",{class:"header-anchor",href:"#深入理解json","aria-label":'Permalink to "深入理解Json"'},"​")],-1)),a[8]||(a[8]=s("div",{class:"language-json"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"json"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"{")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},'    "name"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"zhangSan"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},'    "age"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"20"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},'    "is_student"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"true"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},'    "score"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"95.5"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},'    "nothing"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"null"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},'    "courses"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": ["),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"Math"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"English"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"],")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},'    "address"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},'        "city"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"Beijing"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},'        "zip"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"100000")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])]),s("button",{class:"code-block-unfold-btn"})],-1)),a[9]||(a[9]=s("p",null,[i("上面是一个简单的"),s("code",null,"Json"),i("示例, 可以看到"),s("code",null,"Json"),i("的一个核心骨架, 由一个"),s("code",null,"{...}"),i("包裹, 里面的数据则是很规整的字典类型(Python乱入), 都是"),s("code",null,"Key:Class"),i("的类型, 而且"),s("code",null,"Key"),i("是字符串, 后面的东西则可以是字符串(String), 布尔(Boolean), 数字(Number), 空(Null), 数组(Array), 然后?")],-1)),a[10]||(a[10]=s("p",null,[i("最后一个似乎是另一个"),s("code",null,"Json"),i("骨架? 没关系, 我们先跳过, 等到后面就清楚了.")],-1)),a[11]||(a[11]=s("h3",{id:"思路",tabindex:"-1"},[i("思路 "),s("a",{class:"header-anchor",href:"#思路","aria-label":'Permalink to "思路"'},"​")],-1)),a[12]||(a[12]=s("p",null,"作为一个编程菜鸡, 这种复杂的东西还是先给AI跑一遍再说吧(变相参考代码)",-1)),a[13]||(a[13]=s("div",{class:"language-c++"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"c++"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"class"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Json"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"using"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Null"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," std"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"::"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"monostate"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"using"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Boolen"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," bool"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"using"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Int"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," int"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"using"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Double"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," double"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"using"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," String"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," std"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"::"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"string"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"using"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Array"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," std"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"::"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"vector"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"<"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Json"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},">;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"using"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Object"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," std"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"::"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"map"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"<"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"std"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"::"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"string"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Json"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},">;")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"using"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," JsonValue"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," std"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"::"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"variant"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"<"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Null"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Boolen"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Int"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Double"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"String"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Array"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Object"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},">;")])])]),s("button",{class:"code-block-unfold-btn"})],-1)),a[14]||(a[14]=s("p",null,[i("可以发现上面说的类型基本都有, 而且最后一个没对应上的竟然是"),s("code",null,"Object"),i(", 也就是说其实"),s("code",null,"Json"),i("本身是一个大"),s("code",null,"Object"),i("? "),s("s",null,"(反正我一开始就是这么想的)"),i(", 不过后面写着写着, 发现并非如此.")],-1)),a[15]||(a[15]=s("h3",{id:"问题",tabindex:"-1"},[i("问题 "),s("a",{class:"header-anchor",href:"#问题","aria-label":'Permalink to "问题"'},"​")],-1)),a[16]||(a[16]=s("p",null,[i("按照我一开始的想法区设计一个"),s("code",null,"Json"),i("类, 就会想到核心类成员是一个"),s("code",null,"Object"),i(", 不过简单想想就会发现这种逻辑完全说不通, 前面的"),s("code",null,"std::string"),i("应该是什么呢? 后面存的为什么又是"),s("code",null,"Json"),i("自己??")],-1)),a[17]||(a[17]=s("p",null,[i("既然是"),s("code",null,"Key:Class"),i(", 那么")],-1)),s("div",D,[s("p",J,[B(E,{content:"blocks.warning"})]),a[0]||(a[0]=s("p",null,"施工中",-1))]),a[18]||(a[18]=s("h2",{id:"总结",tabindex:"-1"},[i("总结 "),s("a",{class:"header-anchor",href:"#总结","aria-label":'Permalink to "总结"'},"​")],-1)),o(" 在这里写总结 "),a[19]||(a[19]=s("hr",null,null,-1)),a[20]||(a[20]=s("p",null,[s("strong",null,"版权声明"),i("：本文为原创文章，转载请注明出处。")],-1))]),"main-header":l(()=>[n(t.$slots,"main-header")]),"main-header-after":l(()=>[n(t.$slots,"main-header-after")]),"main-nav":l(()=>[n(t.$slots,"main-nav")]),"main-content-before":l(()=>[n(t.$slots,"main-content-before")]),"main-content":l(()=>[n(t.$slots,"main-content")]),"main-content-after":l(()=>[n(t.$slots,"main-content-after")]),"main-nav-before":l(()=>[n(t.$slots,"main-nav-before")]),"main-nav-after":l(()=>[n(t.$slots,"main-nav-after")]),comment:l(()=>[n(t.$slots,"comment")]),footer:l(()=>[n(t.$slots,"footer")]),aside:l(()=>[n(t.$slots,"aside")]),"aside-custom":l(()=>[n(t.$slots,"aside-custom")]),default:l(()=>[n(t.$slots,"default")]),_:3},8,["frontmatter"])}}};export{x as default,v as usePageData};
