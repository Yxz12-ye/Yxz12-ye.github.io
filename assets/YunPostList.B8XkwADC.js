import{a as B}from"./chunks/@vueuse/motion.0Y_2at5v.js";import{F as D,i as I,l as F,_ as M,g as A,q as H,G as E}from"./app.DIQDPzuN.js";import"./chunks/dayjs.BdcnXKr1.js";import{u as G}from"./chunks/vue-router.T16DWTmB.js";import{A as r,I as S,ac as l,aa as h,ae as f,F as a,ap as w,L as $,al as T,a9 as L,af as p,ai as q,ah as z,aj as C,ab as e,a8 as Y,C as O,y as W,as as J,av as K,H as j,W as k,ak as Q}from"./framework.BW9VHYSl.js";import{b as U,_ as X,a as Z}from"./YunPostMeta.vue_vue_type_style_index_0_lang.Bu7gcX0H.js";import{u as tt}from"./chunks/vue-i18n.CJ3sQeW8.js";function et(t){const o=G(),s=r(()=>Number.parseInt(o.params.page||"1")),n=r(()=>Math.ceil(t.total/t.pageSize)),c=r(()=>s.value===1||s.value===n.value?3:2);function m(i){return i===1||i===n.value?!0:i>s.value-c.value&&i<s.value+c.value}function d(i){return i===1?"/":`/page/${i}`}const _=r(()=>d(s.value-1)),v=r(()=>d(s.value+1)),y=r(()=>s.value>1),b=r(()=>s.value<n.value);return{curPage:s,totalPages:n,showPage:m,surLen:c,getTo:d,prevTo:_,nextTo:v,showPrev:y,showNext:b}}const st={class:"pagination"},ot=S({__name:"YunPagination",props:{total:{},pageSize:{}},setup(t,{expose:o}){const s=t,{curPage:n,totalPages:c,showPage:m,getTo:d,surLen:_,prevTo:v,nextTo:y,showPrev:b,showNext:i}=et({total:s.total,pageSize:s.pageSize});return o({curPage:n}),(P,g)=>{const x=L("RouterLink");return e(),l("nav",st,[a(b)?(e(),h(x,{key:0,class:"page-number",to:a(v),"aria-label":"prev"},{default:w(()=>[...g[0]||(g[0]=[p("div",{"i-ri-arrow-left-s-line":""},null,-1)])]),_:1},8,["to"])):f("",!0),(e(!0),l($,null,T(a(c),u=>(e(),l($,null,[a(m)(u)?(e(),h(x,{key:u,class:C(["page-number",a(n)===u&&"active"]),to:a(d)(u)},{default:w(()=>[q(z(u),1)]),_:2},1032,["class","to"])):u===a(n)-a(_)?(e(),l("span",{key:`prev-space-${u}`,class:"space",disabled:""}," ... ")):u===a(n)+a(_)?(e(),l("span",{key:`next-space-${u}`,class:"space",disabled:""}," ... ")):f("",!0)],64))),256)),a(i)?(e(),h(x,{key:1,class:"page-number",to:a(y),"aria-label":"next"},{default:w(()=>[...g[1]||(g[1]=[p("div",{"i-ri-arrow-right-s-line":""},null,-1)])]),_:1},8,["to"])):f("",!0)])}}}),nt={},at={w:"full",h:"30%",class:"absolute bottom-0 bg-gradient-to-t from-$va-c-bg-light to-transparent z-1"};function lt(t,o){return e(),l("div",at)}const rt=Y(nt,[["render",lt]]),ct=S({__name:"ValaxyDynamicComponent",props:{templateStr:{},data:{default:()=>({})}},setup(t){const o=t,s=O(null);async function n(){const m={render:B(o.templateStr),data:()=>o.data};s.value=K(()=>Promise.resolve(m))}return W(()=>[o.templateStr,o.data],()=>{n()},{immediate:!0}),(c,m)=>(e(),h(J(s.value)))}});function it(){const t=D();return r(()=>t.value.themeConfig)}function ut(t){if(!t)return{color:"",icon:"",styles:void 0};const o=it();t in o.value.types||(t="link");const s=o.value.types[t].color,n=o.value.types[t].icon,c=r(()=>t?{"--card-c-primary":s}:void 0);return{color:s,icon:n,styles:c}}const pt={class:"flex flex-1 of-hidden justify-start items-start post-card-info",w:"full"},dt=["src","alt"],mt={class:"flex-center title text-2xl",text:"center",font:"serif black"},ft={flex:"~ grow col",w:"full",justify:"center",items:"center"},_t={key:0,py:"1"},vt={key:0,class:"markdown-body",op:"90",text:"left",w:"full",p:"x-8 y-2"},gt=["innerHTML"],ht={key:2,m:"b-5"},yt=["href"],xt={w:"full",class:"yun-card-actions flex justify-between p-4","min-h":"10",text:"sm"},kt={class:"post-categories inline-flex",flex:"wrap 1",items:"center"},wt=S({__name:"YunPostCard",props:{post:{}},setup(t){const o=t,{t:s}=tt(),{$tO:n}=I(),{icon:c,styles:m,color:d}=ut(o.post.type),_=j("bg-gradient-to-r gradient-text from-$va-c-primary to-$va-c-primary-lighter"),v=r(()=>d?"":o.post.postTitleClass||_.value);return(y,b)=>{const i=M,P=U,g=ct,x=rt,u=X,R=Z,V=F,N=L("RouterLink");return e(),h(N,{class:"post-card-link flex-center w-full",to:t.post.path||""},{default:w(()=>[k(V,{class:C(["w-full hover:scale-102 hover:z-1",t.post.cover?"post-card-image":"post-card"]),overflow:"hidden",style:Q(a(m))},{default:w(()=>[p("div",pt,[t.post.cover?(e(),l("img",{key:0,src:t.post.cover,alt:a(s)("post.cover"),width:"320",height:"180",w:"40%",h:"54",class:"cover object-cover object-center md:shadow",loading:"lazy"},null,8,dt)):f("",!0),p("div",{class:C(["flex flex-col items-center relative",t.post.cover&&"h-54"]),w:"full"},[k(i,{class:C(["post-title-link cursor-pointer",v.value]),to:t.post.path||"",m:"t-3"},{default:w(()=>[p("div",mt,[t.post.type?(e(),l("div",{key:0,class:C(["inline-flex",a(c)]),m:"r-1"},null,2)):f("",!0),p("span",null,z(a(n)(t.post.title)),1)])]),_:1},8,["to","class"]),k(P,{frontmatter:t.post},null,8,["frontmatter"]),p("div",ft,[t.post.excerpt_type==="text"?(e(),l("div",_t)):f("",!0),t.post.excerpt?(e(),l($,{key:1},[t.post.excerpt_type==="html"?(e(),l("div",vt,[k(g,{"template-str":t.post.excerpt},null,8,["template-str"])])):(e(),l("div",{key:1,class:"markdown-body",op:"90",text:"left",w:"full",p:"x-8 y-2",innerHTML:t.post.excerpt},null,8,gt))],64)):(e(),l("div",ht))]),t.post.excerpt?(e(),h(x,{key:0})):f("",!0),t.post.url?(e(),l("a",{key:1,href:t.post.url,class:"post-link-btn shadow hover:shadow-md z-2",rounded:"",target:"_blank",m:"b-4"},z(a(s)("post.view_link")),9,yt)):f("",!0)],2)]),p("div",xt,[p("div",kt,[k(u,{m:"l-1",categories:t.post.categories},null,8,["categories"])]),t.post.tags?(e(),h(R,{key:0,m:"1",tags:t.post.tags},null,8,["tags"])):f("",!0)])]),_:1},8,["class","style"])]),_:1},8,["to"])}}}),bt={class:"yun-post-list grid grid-cols-1 lg:grid-cols-[1fr_20rem] gap-0",w:"full",p:"x-4 lt-sm:0"},Ct={class:"flex justify-center"},$t={class:"w-full"},Pt={key:0,py2:"",op50:"","text-center":""},St={class:"lt-lg:hidden justify-center yun-sidebar-sticky"},zt=S({__name:"YunPostList",props:{type:{},posts:{}},setup(t){const o=t,s=j(),n=r(()=>s.value?.curPage||1),c=A(),m=H(),d=r(()=>m.value.pageSize),_=r(()=>(o.posts||c.postList).filter(y=>!y.hide)),v=r(()=>_.value.slice((n.value-1)*d.value,n.value*d.value));return(y,b)=>{const i=wt,P=E,g=ot;return e(),l($,null,[p("div",bt,[p("div",Ct,[p("div",$t,[v.value.length?f("",!0):(e(),l("div",Pt," 博主还什么都没写哦～ ")),(e(!0),l($,null,T(v.value,(x,u)=>(e(),h(i,{key:u,post:x},null,8,["post"]))),128))])]),p("div",St,[k(P)])]),k(g,{ref_key:"paginationRef",ref:s,class:"mt-5",total:_.value.length,"page-size":d.value},null,8,["total","page-size"])],64)}}}),Bt=Y(zt,[["__scopeId","data-v-0d66342c"]]);export{Bt as _};
